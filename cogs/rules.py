import discord
from typing import Optional
from discord import app_commands
from discord.ext import commands
from constants import RMC_EMBED_COLOR
from utils.permissions import check_cog_access

class Rules(commands.Cog):
    """Cog –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–∞–≤–∏–ª —Å–µ—Ä–≤–µ—Ä–∞."""
    required_access = None

    async def cog_check(self, ctx: commands.Context):
        allowed = await check_cog_access(ctx, self.required_access)
        if not allowed:
            raise commands.CheckFailure()
        return True

    def __init__(self, bot: commands.Bot):
        self.bot = bot
        self.rule_names = {
            "1": "–ö—Ä–∞—à–∏ –∏ —Ñ–∏—à–∏–Ω–≥–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏",
            "2": "–†–µ–∫–ª–∞–º–∞", 
            "3": "NSFW —à–æ–∫-–∫–æ–Ω—Ç–µ–Ω—Ç",
            "4": "–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è",
            "5": "–ö—Ä–∏—Ç–∏–∫–∞",
            "6": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏",
            "7": "–°–ø–∞–º –∏ —Ñ–ª—É–¥",
            "8": "–ü—Ä–∏–∑—ã–≤—ã –∫ –Ω–∞—Å–∏–ª–∏—é",
            "9": "–ê–∫—Ü–∏–∏ –æ—Ç –∏–º–µ–Ω–∏ –†–ú–ö",
            "10": "–í—ã–¥–∞—á–∞ —Å–µ–±—è –∑–∞ –¥—Ä—É–≥–æ–µ –ª–∏—Ü–æ",
            "11": "–ü–æ–∏—Å–∫ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–µ–π –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö",
            "12": "–û –¥—Ä—É–≥–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞",
            "13": "–û –∫—Ä–∏—Ç–∏–∫–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏",
            "14": "–û –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏",
            "15": "–û –¥–µ–π—Å—Ç–≤–∏—è—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏",
            "basis": "–ü—Ä–∞–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π",
            "link": "–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞"
        }

    @commands.hybrid_command(
        name="rule",
        with_app_command=True,
        description="–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—É–Ω–∫—Ç –ø—Ä–∞–≤–∏–ª —Å–µ—Ä–≤–µ—Ä–∞."
    )
    @app_commands.describe(rule_id="–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –ø—Ä–∞–≤–∏–ª")
    @app_commands.choices(rule_id=[
        app_commands.Choice(name="–°–ø—Ä–∞–≤–∫–∞ –æ –∫–æ–º–∞–Ω–¥–µ", value="help"),
        app_commands.Choice(name="1. –ü–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞, –∫—Ä–∞—à–∏ –∏ —Ñ–∏—à–∏–Ω–≥–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏", value="1"),
        app_commands.Choice(name="2. –†–µ–∫–ª–∞–º–∞", value="2"),
        app_commands.Choice(name="3. NSFW –∏ —à–æ–∫-–∫–æ–Ω—Ç–µ–Ω—Ç", value="3"),
        app_commands.Choice(name="4. –û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è", value="4"),
        app_commands.Choice(name="5. –ö—Ä–∏—Ç–∏–∫–∞", value="5"),
        app_commands.Choice(name="6. –û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏", value="6"),
        app_commands.Choice(name="7. –°–ø–∞–º, –ø–∞—Å—Ç—ã –∏ —Ñ–ª—É–¥", value="7"),
        app_commands.Choice(name="8. –ü—Ä–∏–∑—ã–≤—ã –∫ –Ω–∞—Å–∏–ª–∏—é", value="8"),
        app_commands.Choice(name="9. –ê–∫—Ü–∏–∏ –æ—Ç –∏–º–µ–Ω–∏ –†–ú–ö", value="9"),
        app_commands.Choice(name="10. –í—ã–¥–∞—á–∞ —Å–µ–±—è –∑–∞ –¥—Ä—É–≥–æ–µ –ª–∏—Ü–æ", value="10"),
        app_commands.Choice(name="11. –ü–æ–∏—Å–∫ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–µ–π –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö", value="11"),
        app_commands.Choice(name="12. –û –¥—Ä—É–≥–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞", value="12"),
        app_commands.Choice(name="13. –ö—Ä–∏—Ç–∏–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏", value="13"),
        app_commands.Choice(name="14. –ü—É–±–ª–∏—á–Ω–æ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏", value="14"),
        app_commands.Choice(name="15. –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏", value="15"),
        app_commands.Choice(name="16. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π –∏ –¥–∏—Å–∫—Ä–µ–¥–∏—Ç–∞—Ü–∏—è –†–ú–ö", value="16"),
        app_commands.Choice(name="17. –û–±–º–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏", value="17"),
        app_commands.Choice(name="–ü—Ä–∞–≤–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π", value="basis"),
        app_commands.Choice(name="–°–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–∞–∑–∞–Ω–∏–π", value="punishment_system"),
        app_commands.Choice(name="–°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞", value="link")
    ])
    async def rule(self, ctx: commands.Context, rule_id: Optional[str] = None):
        """–ü–æ–∫–∞–∑–∞—Ç—å –ø—É–Ω–∫—Ç –ø—Ä–∞–≤–∏–ª –ø–æ –Ω–æ–º–µ—Ä—É –∏–ª–∏ help."""

        rules_map = {
            "help": "–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞: `help`, –ø—É–Ω–∫—Ç—ã –ø—Ä–∞–≤–∏–ª 1-17, `basis`, `link`.",
            "1": "1. –õ—é–±—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞, –∫—Ä–∞—à–∞, —Ä–µ–π–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞, —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ñ–∏—à–∏–Ω–≥–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫, –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û –∏ –ø—Ä–æ—á–∏—Ö —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∫–∞—Ä–∞—é—Ç—Å—è –ø–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω—ã–º –±–∞–Ω–æ–º.",
            "2": "2. –ó–∞–ø—Ä–µ—â–µ–Ω–∞ –ª—é–±–∞—è —Ä–µ–∫–ª–∞–º–∞ –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞.",
            "3": "3. –ó–∞–ø—Ä–µ—â–µ–Ω—ã —à–æ–∫-–∫–æ–Ω—Ç–µ–Ω—Ç, NSFW-–∫–æ–Ω—Ç–µ–Ω—Ç, –Ω–∞—Å–∏–ª–∏–µ –∏ –ø—Ä–æ—á–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç, –Ω–∞—Ä—É—à–∞—é—â–∏–π –º–æ—Ä–∞–ª—å–Ω—ã–µ –Ω–æ—Ä–º—ã. –ó–∞ –ø–æ–¥–æ–±–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –æ–±—ã—á–Ω–æ —Å–ª–µ–¥—É–µ—Ç –±–∞–Ω.",
            "4": "4. –ó–∞–ø—Ä–µ—â–µ–Ω—ã —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è/–ø–æ—Ç–æ–∫ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π, —É–≥—Ä–æ–∑—ã –≤ –∞–¥—Ä–µ—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º–∏ –ª—é–¥–µ–π, –º–æ–¥–æ–≤ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤, –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, —é—Ç—É–±-–∫–∞–Ω–∞–ª–æ–≤ –∏ —Ç.–¥. –ï–¥–∏–Ω–∏—á–Ω–æ–µ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–µ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å—Å—è –∫–∞–∫ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª.",
            "5": "5. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è –∫—Ä–∏—Ç–∏–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è, –Ω–µ–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è –±—É–¥—É—Ç –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.",
            "6": "6. –í—Å–µ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ø–æ–ª–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è, –¥–∏—Å–∫—É—Å—Å–∏–∏ –∏ —Å—Ä–∞—á–∏ –∑–∞–ø—Ä–µ—â–µ–Ω—ã –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ <#1329815969937358849>, –¥–æ—Å—Ç—É–ø –≤ –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞—ë—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Ä–æ–ª—å—é <@&1331710911068504125>. –ï—Å–ª–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å–ª–æ–∂–∏–ª—Å—è —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∏–ª–∏ –Ω–∞ –ø–æ–¥–æ–±–Ω—É—é —Ç–µ–º—É, —Ç–æ —Å–ª–µ–¥—É–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ –¥–∞–Ω–Ω–æ–º –∫–∞–Ω–∞–ª–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–≤–æ—é —Å–∏–ª—É.",
            "7": "7. –°–ø–∞–º, —Ñ–ª—É–¥, –ø–∞—Å—Ç—ã, –ø–æ–ø—Ä–æ—à–∞–π–Ω–∏—á–µ—Å—Ç–≤–æ, –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –∫–∞–ø—Å, –∞ —Ä–∞–≤–Ω–æ –∏–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –ø—Ä–∏—Ä–∞–≤–Ω–µ–Ω–Ω—ã–µ –∫ —Ç–∞–∫–æ–≤—ã–º –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π, –∑–∞–ø—Ä–µ—â–µ–Ω—ã. –ó–∞–ø—Ä–µ—â—ë–Ω –∏ —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —Ç—è–∂–∫–∏–º –ø—Ä–æ—Å—Ç—É–ø–∫–æ–º –Ω–µ–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–æ–≤—ã–π –ø–∏–Ω–≥.",
            "8": "8. –ó–∞–ø—Ä–µ—â–∞—é—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ —Ä–∞–∑–∂–∏–≥–∞–Ω–∏–µ –Ω–µ–Ω–∞–≤–∏—Å—Ç–∏, –≤—Ä–∞–∂–¥—ã, –∞ —Ç–∞–∫–∂–µ –Ω–∞ —É–Ω–∏–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞ –ª–∏–±–æ –≥—Ä—É–ø–ø—ã –ª–∏—Ü –ø–æ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É, —Ä–∞—Å–æ–≤–æ–º—É, —Ä–µ–ª–∏–≥–∏–æ–∑–Ω–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫–∞–º, –∞ —Ç–∞–∫–∂–µ –≤ —Å–≤—è–∑–∏ —Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å—é –∫ –∫–∞–∫–æ–π-–ª–∏–±–æ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –≥—Ä—É–ø–ø–µ. –ó–∞–ø—Ä–µ—â–∞—é—Ç—Å—è –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–∏ –∏ –ø—Ä–∏–∑—ã–≤—ã –∫ –Ω–∞—Å–∏–ª–∏—é, —Ç–µ—Ä—Ä–æ—Ä–∏–∑–º—É, –≤–æ–π–Ω–µ.",
            "9": "9. –ó–∞–ø—Ä–µ—â–µ–Ω—ã –ª—é–±—ã–µ –∞–∫—Ü–∏–∏ –æ—Ç –∏–º–µ–Ω–∏ –†–ú–ö –±–µ–∑ –≤–µ–¥–æ–º–∞ –∏ —Å–æ–≥–ª–∞—Å–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –†–ú–ö.",
            "10": "10. –ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤—ã–¥–∞–≤–∞—Ç—å —Å–µ–±—è –∑–∞ –¥—Ä—É–≥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –±–µ–∑ –µ–≥–æ –≤–µ–¥–æ–º–∞ –∏ —Å–æ–≥–ª–∞—Å–∏—è. –ó–∞–ø—Ä–µ—â–µ–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π, –∞ —Ç–∞–∫–∂–µ –ª–∏—á–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π, –ø–æ—Ä–æ—á–∞—â–∏—Ö –∏—Ö.",
            "11": "11. –ù–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–∞–∑–µ–µ–∫ –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö. –õ—é–±—ã–µ –º–∞—Ö–∏–Ω–∞—Ü–∏–∏ —Å —Ç–æ–ª–∫–æ–≤–∞–Ω–∏–µ–º —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∞–≤–∏–ª –Ω–µ –±—É–¥—É—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç.",
            "12": "12. –ù–∞–∫–∞–∑–∞–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–∞. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–ø—Ä–∞–≤–µ –±–∞–Ω–∏—Ç—å —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã. –û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ª–∏—à—å –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Ö –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏–ª–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∞–ø–µ–ª–ª—è—Ü–∏–∏.",
            "13": "13. –ö–∞–∂–¥—ã–π —á–ª–µ–Ω –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ –æ–±—è–∑–∞–Ω —Ç–µ—Ä–ø–µ—Ç—å –Ω–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—É—é –∫—Ä–∏—Ç–∏–∫—É –∏ –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è –≤ —Å–≤–æ–π –∞–¥—Ä–µ—Å, –≤ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–ø—Ä–∞–≤–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞–∫–∞–∑–∞–Ω–∏–µ.",
            "14": "14. –î–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –ø—É–±–ª–∏—á–Ω–æ–º—É –æ–±—Å—É–∂–¥–µ–Ω–∏—é. –û–±–∂–∞–ª–æ–≤–∞–Ω–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –≤ –∞–ø–µ–ª–ª—è—Ü–∏–æ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.",
            "15": "15. –ß–ª–µ–Ω—ã –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ –æ–±—è–∑–∞–Ω—ã –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.",
            "16": "16. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≤–µ–¥–æ–º–æ –ª–æ–∂–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π, –¥–∏—Å–∫—Ä–µ–¥–∏—Ç–∏—Ä—É—é—â–∏—Ö –†–ú–ö, –∞ —Ä–∞–≤–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ –∏–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–∏—á–∏–Ω–µ–Ω–∏–µ –≤—Ä–µ–¥–∞ –†–ú–ö, —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–µ—Å—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è. –ù–∞–∫–∞–∑–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –∏ —Å–æ—É—á–∞—Å—Ç–Ω–∏–∫–∞–º. ",
            "17": "17. –ó–∞–ø—Ä–µ—â–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—è, —Ü–µ–ª—å—é –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è–µ—Ç—Å—è –æ–±–º–∞–Ω –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏, —Å–æ–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∏–∑ –∫–æ—Ä—ã—Å—Ç–Ω—ã—Ö –∏–ª–∏ –∏–Ω—ã—Ö –Ω–∏–∑–º–µ–Ω–Ω—ã—Ö –ø–æ–±—É–∂–¥–µ–Ω–∏–π.",
            "basis": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ —Å–∞–º–æ–π –≤—ã–±–∏—Ä–∞—Ç—å –º–µ—Ä—É –Ω–∞–∫–∞–∑–∞–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—è–∂–µ—Å—Ç–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –≤—ã–Ω–æ—Å–∏—Ç—å –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã –∏ –æ—Ç—Å—ã–ª–∫–∏ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –∞ —Ç–∞–∫–∂–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞–∫–∞–∑–∞–Ω–∏—è –≤ —Ç–µ—Ö —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –ø–æ—Å—á–∏—Ç–∞–µ—Ç —ç—Ç–æ –Ω—É–∂–Ω—ã–º.",
            "punishment_system": "–ü—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –∫–µ–º-–ª–∏–±–æ –∏–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –≤—ã–Ω–µ—Å—Ç–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ—ë —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ. –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç—ã –ª–∏–±–æ –Ω–µ –ø—Ä–∏–Ω—è—Ç—ã –≤–æ –≤–Ω–∏–º–∞–Ω–∏–µ.\n\n- –ü–æ –≤—Å–µ–º –ø—Ä–∞–≤–∏–ª–∞–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–∞–Ω–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –≤–µ—Å—å –ø–µ—Ä–µ—á–µ–Ω—å –≤–æ–∑–º–æ–∂–Ω—ã—Ö –Ω–∞–∫–∞–∑–∞–Ω–∏–π, –µ—Å–ª–∏ –∏–Ω–æ–µ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ —Å–∞–º–∏–º –ø—Ä–∞–≤–∏–ª–æ–º.\n- –õ—é–±–æ–π –Ω–∞–∫–∞–∑–∞–Ω–Ω—ã–π –º–æ–∂–µ—Ç –ø–æ–¥–∞—Ç—å –∞–ø–µ–ª–ª—è—Ü–∏—é, –≥–¥–µ –¥–æ–ª–∂–µ–Ω –æ–±–æ—Å–Ω–æ–≤–∞—Ç—å —Å–≤–æ—é —Ç–æ—á–∫—É –∑—Ä–µ–Ω–∏—è.\n- –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Å–ø–æ—Ä–æ–≤ –ø–æ —Ñ–∞–∫—Ç—É –Ω–∞—Ä—É—à–µ–Ω–∏—è –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∞—Ä–±–∏—Ç—Ä–æ–º.\n\n–ü–æ–º–∏–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –Ω–∞–∫–∞–∑–∞–Ω–∏–π, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (–≤–∞—Ä–Ω–æ–≤). –°—É—â–µ—Å—Ç–≤—É–µ—Ç —É—Å—Ç–Ω–æ–µ –∏ –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Ñ–∞–∫—Ç–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª, –ø–æ —Ñ–∞–∫—Ç—É –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –≤—ã–Ω–æ—Å–∏—Ç—å—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–¥–∞—ë—Ç —É—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –ï—Å–ª–∏ –æ–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, —Ç–æ –∑–∞ –Ω–∏–º —Å–ª–µ–¥—É–µ—Ç –ª–∏–±–æ –Ω–∞—Å—Ç–æ—è—â–µ–µ, –ª–∏–±–æ –º—É—Ç.\n\n –õ—é–±–æ–µ —Å–ª–µ–¥—É—é—â–µ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∫–∞—Ä–∞–µ—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º. –ù–∞ —Ç—Ä–µ—Ç—å–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–∞–Ω —Å—Ä–æ–∫–æ–º –Ω–∞ –º–µ—Å—è—Ü, –æ—Å—Ç–∞—ë—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∞—á–∏ –∞–ø–µ–ª–ª—è—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ä–∞–∑–±–∞–Ω–∞ –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏. –°—Ä–æ–∫ –∏—Å—Ç–µ—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –æ–¥–Ω–æ–≥–æ –≤–∞—Ä–Ω–∞ - 2 –Ω–µ–¥–µ–ª–∏, –Ω–æ —ç—Ç–æ—Ç —Å—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–¥–ª—ë–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.",
            "link": "https://discord.com/channels/1283116690678485125/1283118892880887868"
        }

        if rule_id is None or rule_id == "help":
            embed = discord.Embed(
                title="üìñ –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ rule",
                description="–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –ø—Ä–∞–≤–∏–ª:",
                color=RMC_EMBED_COLOR
            )
            
            for i in range(1, 18):
                rule_key = str(i)
                rule_name = self.rule_names.get(rule_key, f"–ü—Ä–∞–≤–∏–ª–æ {i}")
                embed.add_field(
                    name=f"üìú {rule_name}",
                    value=f"–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `!rmc rule {i}` –∏–ª–∏ `/rule {i}`",
                    inline=True  
                )
            
            embed.add_field(
                name="‚öñÔ∏è " + self.rule_names.get("basis", "–û—Å–Ω–æ–≤–∞ –æ—Å–Ω–æ–≤"),
                value="`!rmc rule basis` –∏–ª–∏ `/rule basis`",
                inline=True
            )

            embed.add_field(
                name="üìÉ " + self.rule_names.get("punishment_system", "–°–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–∞–∑–∞–Ω–∏–π"),
                value="`!rmc rule punishment_system` –∏–ª–∏ `/rule punishment_system`",
                inline=True
            )
            
            embed.add_field(
                name="üîó " + self.rule_names.get("link", "–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞"),
                value="`!rmc rule link` –∏–ª–∏ `/rule link`",
                inline=True
            )
            
            embed.set_footer(text="–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø—É–Ω–∫—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è. –í–µ—Ä—Å–∏—è –ø—Ä–∞–≤–∏–ª –æ—Ç 05.01.2026")
            await ctx.send(embed=embed)
            return

        answer = rules_map.get(rule_id)
        if answer:
            if rule_id.isdigit():
                rule_name = self.rule_names.get(rule_id, f"–ü—Ä–∞–≤–∏–ª–æ {rule_id}")
                title = f"üìú {rule_name}"
                color = RMC_EMBED_COLOR
            elif rule_id == "basis":
                rule_name = self.rule_names.get("basis", "–û—Å–Ω–æ–≤–∞ –æ—Å–Ω–æ–≤")
                title = f"‚öñÔ∏è {rule_name}"
                color = RMC_EMBED_COLOR
            elif rule_id == "punishment_system":
                rule_name = self.rule_names.get(rule_id, "–°–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–∞–∑–∞–Ω–∏–π")
                title = f"üìÉ {rule_name}"
                color = RMC_EMBED_COLOR
            else:  
                rule_name = self.rule_names.get("link", "–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞")
                title = f"üîó {rule_name}"
                color = RMC_EMBED_COLOR
            
            embed = discord.Embed(
                title=title,
                description=answer,
                color=color,
                timestamp=discord.utils.utcnow()
            )
            
            if rule_id.isdigit():
                embed.set_footer(text="–°–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞!")
            elif rule_id == "basis":
                embed.set_footer(text="–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ —Ç—Ä–∞–∫—Ç–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞")
            elif rule_id == "punishment_system":
                embed.set_footer(text="–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –Ω–µ —Å–ª–µ–¥–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ")
            else:
                embed.set_footer(text="–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∞–≤–∏–ª –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å—Å—ã–ª–∫–µ")
            
            await ctx.send(embed=embed)
        else:
            embed = discord.Embed(
                title="‚ùå –û—à–∏–±–∫–∞",
                description=f"–¢–∞–∫–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –Ω–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö!",
                color=RMC_EMBED_COLOR
            )
            
            embed.set_footer(text="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ !rmc rule help –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.")

            if ctx.interaction is not None:
                await ctx.send(embed=embed, ephemeral=True)
            else:
                await ctx.send(embed=embed)

async def setup(bot: commands.Bot):
    await bot.add_cog(Rules(bot))
